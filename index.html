<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h1>Let's play rock paper scissors</h1>

    <h3><span id="playerDisplayScore">0</span> to <span id="computerDisplayScore">0</span></h3>

    <button id = "rock">Rock</button>
    <button id = "paper">Paper</button>
    <button id = "scissors">Scissors</button>

    <p>Make your move...</p>

    <div></div>

    <script>
        const btns = document.querySelectorAll("button");
        //const div = document.querySelector("div");

        let playerScore = 0;
        let computerScore = 0;


        btns.forEach(btn => { 
            btn.addEventListener("click", event => {
                 event.preventDefault();

                
                 if(event.target.id === "rock"){//Checks what type of button you pressed
                    document.querySelector("div").textContent = playRound("rock",computerPlay());//Puts result of playRound()into div. 
                        game(document.querySelector("div").textContent);//Takes the result text and runs it as game function parameter 
                } else if(event.target.id === "paper"){
                    document.querySelector("div").textContent = playRound("paper",computerPlay());
                        game(document.querySelector("div").textContent);
                } else if(event.target.id === "scissors"){
                    document.querySelector("div").textContent = playRound("scissors",computerPlay());
                        game(document.querySelector("div").textContent);
                } else {

                }
            });
         });


        const rockPaperScissors = ["rock","paper","scissors"];
      
        //This function returns randomly one array from, const rockPaperScissors
        function computerPlay(){
            let result = rockPaperScissors[Math.floor(Math.random() * (rockPaperScissors.length))]
            return result;
        }

        const computerSelection = computerPlay();
        
        //This function executes one round of Rock Paper Scissors 
        function playRound(playerSelection, computerSelection) {
            
 if (playerSelection === "rock" && computerSelection === "rock"){
     return "Tie";

} else if (playerSelection === "rock" && computerSelection === "paper"){
    return "You lose. Paper beats the rock";
     
} else if (playerSelection === "rock" && computerSelection === "scissors"){
    return "You win. Rock beats the scissors";
     
} else if (playerSelection === "paper" && computerSelection === "paper"){
    return "Tie";

} else if (playerSelection === "paper" && computerSelection === "rock"){
    return "You win. Paper beats rock ";

} else if (playerSelection === "paper" && computerSelection === "scissors"){
    return "You lose. Scissors beats paper";

} else if (playerSelection === "scissors" && computerSelection === "scissors"){
    return "Tie";

} else if (playerSelection === "scissors" && computerSelection === "rock"){
    return "You lose. Rock beats scissors";

} else if (playerSelection === "scissors" && computerSelection === "paper"){
    return "You win. Scissors beats paper";

}else {
 }
}


//This function plays round of rock, paper or scissors(playRound)
function game(result){  

    let winResult = result.slice(0,7);
    let loseResult = result.slice(0,8);


        //If, else if line of code checks whether you have to add points to playerScore or computerScore 
        if (winResult === "You win"){
            playerScore += 1;
        } else if (loseResult === "You lose"){
            computerScore += 1;
        } else {
            
        }

        document.getElementById("playerDisplayScore").textContent = playerScore;
        document.getElementById("computerDisplayScore").textContent = computerScore;

        if(playerScore === 5 ) {
                    document.querySelector("div").textContent = "GAME OVER! YOU WON";
                        document.getElementById("rock").disabled = true;
                        document.getElementById("paper").disabled = true;
                        document.getElementById("scissors").disabled = true;
         }else if(computerScore === 5) {
                    document.querySelector("div").textContent = "GAME OVER! YOU LOST";
                        document.getElementById("rock").disabled = true;
                        document.getElementById("paper").disabled = true;
                        document.getElementById("scissors").disabled = true;
                }
        
}
    </script>
</body>
</html>